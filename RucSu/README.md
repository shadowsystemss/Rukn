# Главное
**RucSu** - библиотека для получения данных с сайта расписания.
Теперь часть **Rukn**.
# Принцип работы
1. Получает HTML код путем POST запроса с определенными параметрами.
2. С помощью регулярных выражений вырезает из HTML данные о днях и делит на отдельные единицы.
3. С помощью регулярных выражений делит дни на занятия.
4. С помощью регулярных выражений делит занятия на: номер предмета, название предмета, имя преподавателя или название группы, и место, где будет производится занятия.
5. Создаёт экземпляры соответствующих классов и заполняет их нужными данными.
	- Кастуем заклятие анти-клонирования, для того, чтобы исключить клонов занятий с отличием в один параметр.
# Тонкости
## Регулярные выражения 
### Получение дня
```cs
"bold\">\\s+(.*?)\\s\\(.*?</div>\\s+</div>"
```
### Получение занятия
```cs
"([0-5])\\. (.*?)<.*?/>\\s+(.*?)<br/>\\s+(.*?)<"
```
### Получение опций
```cs
"value=\"(.+?)\".*?>(.*?)</option>"
```
### Получение выборки
```cs
"lg\" name=\"(.*?)\".*?>(.*?)</select>"
```
## Параметры _post_ запроса.
| Имя параметра | описание              | пример значения   |
| ------------- | --------------------- | ----------------- |
| branch        | филиал                | смотреть на сайте |
| year          | год                   | смотреть на сайте |
| group         | группа                | смотреть на сайте |
| search-date   | поиск                 | search-date       |
| date-search   | ввод даты для поиска. | 2024-05-20        |
## Параметры для группы _исп3-чб22_
```cs
"branch=4935b3ff-0858-11e0-8be3-005056bd3ce5&year=828ab065-a6a6-11ec-b157-3cecef02455b&group=8888e406-a6bf-11ec-b157-3cecef02455b&search-date=search-date"
```
# Структура
- **Models** (содержит не сложную реализацию **Rukn.Data** интерфейсов данных)
- **Services** (сервисы)
	- **Parser** (получения данных с сайта, их обработка)
	- **ParserWrapper** (упрощённая оболочка над **Parser**)
